<!DOCTYPE html>
<html lang="en">
<head>
<title>nowjs test</title>
<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
<script src="/nowjs/now.js"></script>


<script>
$(document).ready(function(){

  // Called by server
  now.receiveMessage = function(name, message){
    $("#messages").append("<br>" + name + ": " + message);
  }

	// a clic on send button broadcasts the message. distributeMessage 
	// is run on server side
  $("#send-button").click(function(){
    now.distributeMessage($("#text-input").val());
    $("#text-input").val("");
  });

	// Pops up a dialog and asks for name
  now.name = prompt("What's your name?", "");

});
</script>
</head>

<body>
  <div id="messages"></div>
  <input type="text" id="text-input">
  <input type="button" value="Send" id="send-button">
</body>
</html>